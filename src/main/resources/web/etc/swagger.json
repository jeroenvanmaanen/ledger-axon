{
  "basePath": "/api/greeter",
  "consumes": [],
  "definitions": {
    "AccountData": {
      "properties": {
        "account": {
          "type": "string"
        },
        "bank": {
          "type": "string"
        },
        "depth": {
          "type": "integer"
        },
        "key": {
          "type": "string"
        },
        "label": {
          "type": "string"
        }
      },
      "required": [
        "bank",
        "account",
        "key"
      ],
      "type": "object"
    },
    "CompoundData": {
      "properties": {
        "entryIds": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "id": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "CompoundReference": {
      "properties": {
        "compoundId": {
          "type": "string"
        }
      },
      "required": [
        "compoundId"
      ],
      "type": "object"
    },
    "EntryData": {
      "properties": {
        "account": {
          "type": "string"
        },
        "amount": {
          "type": "string"
        },
        "amountCents": {
          "type": "integer"
        },
        "code": {
          "type": "string"
        },
        "contraAccount": {
          "type": "string"
        },
        "contraJar": {
          "type": "string"
        },
        "date": {
          "example": "2018-11-30",
          "format": "date",
          "type": "string"
        },
        "debetCredit": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "hidden": {
          "type": "boolean"
        },
        "id": {
          "type": "string"
        },
        "jar": {
          "type": "string"
        },
        "key": {
          "type": "string"
        },
        "kind": {
          "type": "string"
        },
        "remarks": {
          "type": "string"
        }
      },
      "required": [
        "date",
        "account",
        "amountCents"
      ],
      "type": "object"
    },
    "JarData": {
      "properties": {
        "code": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "LabelData": {
      "properties": {
        "description": {
          "type": "string"
        },
        "entryId": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "isComplete": {
          "type": "boolean"
        },
        "jar": {
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "info": {
    "contact": {
      "url": "http://leialearns.org/contact/"
    },
    "description": "This is Ledger server. [Swagger contract](resources/etc/swagger.json).  You can find out more about Ledger at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).",
    "license": {
      "name": "LGPLv3",
      "url": "https://www.gnu.org/licenses/lgpl-3.0.en.html"
    },
    "termsOfService": "http://swagger.io/terms/",
    "title": "Ledger",
    "version": "1.0.0"
  },
  "paths": {
    "/account/upload": {
      "post": {
        "consumes": [
          "multipart/form-data"
        ],
        "description": "Upload new Accounts",
        "operationId": "uploadAccounts",
        "parameters": [
          {
            "description": "The data to upload",
            "in": "formData",
            "name": "data",
            "type": "file"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation"
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/account/{id}": {
      "put": {
        "description": "Create a new Account",
        "operationId": "createAccount",
        "parameters": [
          {
            "description": "The account number of the account to add",
            "in": "path",
            "name": "id",
            "required": true,
            "type": "string"
          },
          {
            "description": "Data for the account to add",
            "in": "body",
            "name": "account",
            "schema": {
              "$ref": "#/definitions/AccountData"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Account created",
            "schema": {
              "type": "string"
            }
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/compound": {
      "post": {
        "description": "Create a new Compound Transaction",
        "operationId": "createCompound",
        "responses": {
          "201": {
            "description": "Compound Transaction created",
            "schema": {
              "type": "string"
            }
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/entry": {
      "post": {
        "description": "Create a new ledger Entry",
        "operationId": "createEntry",
        "parameters": [
          {
            "description": "Data for the entry to add",
            "in": "body",
            "name": "entry",
            "schema": {
              "$ref": "#/definitions/EntryData"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Entry created",
            "schema": {
              "type": "string"
            }
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/entry/upload/{format}": {
      "post": {
        "consumes": [
          "multipart/form-data"
        ],
        "description": "Upload new Entries",
        "operationId": "uploadEntries",
        "parameters": [
          {
            "description": "Format of the CSV file (see org.apache.commons.csv.CSVFormat#Predefined)",
            "enum": [
              "Default",
              "Excel",
              "InformixUnload",
              "InformixUnloadCsv",
              "MySQL",
              "Oracle",
              "PostgreSQLCsv",
              "PostgreSQLText",
              "RFC4180",
              "TDF"
            ],
            "in": "path",
            "name": "format",
            "required": true,
            "type": "string"
          },
          {
            "description": "The data to upload",
            "in": "formData",
            "name": "data",
            "type": "file"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation"
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/entry/{id}/compound": {
      "delete": {
        "description": "Remove an Entry from a Compound Transaction",
        "operationId": "removeEntryFromCompound",
        "parameters": [
          {
            "description": "The Id of the Entry that is to be removed from its current Compound",
            "in": "path",
            "name": "id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation"
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/entry/{id}/compound/{compoundId}": {
      "post": {
        "description": "Add an Entry to a Compound Transaction",
        "operationId": "addEntryToCompound",
        "parameters": [
          {
            "description": "The Id of the Entry to add",
            "in": "path",
            "name": "id",
            "required": true,
            "type": "string"
          },
          {
            "description": "The Id of the Compound to add the Entry to",
            "in": "path",
            "name": "compoundId",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation"
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/entry/{id}/jar": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "description": "Assign an Entry to a Jar",
        "operationId": "assignEntryToJar",
        "parameters": [
          {
            "description": "The Id of the Entry",
            "in": "path",
            "name": "id",
            "required": true,
            "type": "string"
          },
          {
            "description": "The Jar to assign to the Entry",
            "in": "body",
            "name": "jar",
            "schema": {
              "$ref": "#/definitions/JarData"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation"
          }
        },
        "tags": [
          "Ledger"
        ]
      }
    },
    "/prod/{name}": {
      "post": {
        "description": "Prod the greeter to provoke a response",
        "operationId": "prod",
        "parameters": [
          {
            "description": "The name of the person to greet",
            "in": "path",
            "name": "name",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "schema": {
              "type": "string"
            }
          },
          "405": {
            "description": "Invalid input"
          }
        },
        "security": [
          {
            "ledger_auth": [
              "write:ledger",
              "read:ledger"
            ]
          }
        ],
        "tags": [
          "Greeter"
        ]
      }
    }
  },
  "produces": [
    "application/json"
  ],
  "schemes": [
    "http"
  ],
  "securityDefinitions": {
    "api_key": {
      "in": "header",
      "name": "api_key",
      "type": "apiKey"
    },
    "ledger_auth": {
      "authorizationUrl": "/oauth/authorize",
      "flow": "implicit",
      "scopes": {
        "read:ledger": "read your ledger",
        "write:ledger": "modify ledger in your account"
      },
      "type": "oauth2"
    }
  },
  "swagger": "2.0"
}
